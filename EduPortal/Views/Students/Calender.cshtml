@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
      Layout = "_LayoutStudent";
}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.8.0/fullcalendar.min.js"></script>


<div class="loader"></div>

        <section class="section">
          <div class="section-body">
            <div class="row">
              <div class="col-12">
                <div class="card">
                  <div class="card-header">
                    <h4>Calendar</h4>
                  </div>
                  <div class="card-body">
                    <div class="fc-overflow">
                      <div id="myEvent"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>   
        <script type="text/javascript">
  
        var movies = @Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(ViewBag.Task)); 
        var myList=new Array;
        for (var i = 0;i < movies.length;i++){
            
        let TaskCard = {}; 
        TaskCard.title =movies[i].Title;
        TaskCard.start = movies[i].EndAt;
        TaskCard.end = movies[i].EndAt;
        TaskCard.backgroundColor = "#00bcd4";
        myList.push(TaskCard);
        }


var calendar = $('#myEvent').fullCalendar({
  height: 'auto',
  defaultView: 'month',
  editable: true,
  selectable: true,
  header: {
    left: 'prev,next',
    center: 'title',
    right: 'month,listMonth'
  },
  events: myList
});
</script>